<!-- Register/Signup page for both the Pet owner and the Vet (Not sure)-->
<html>
    <head>
        <title>PetTracker</title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <link href="style.css" rel="stylesheet">
        <style>
          body {
            display: flex;
            align-items: center;
            padding-top: 40px;
            padding-bottom: 40px;
            background-color: #f5f5f5;
          } 
        </style>

    </head>
    <body class="text-center">
      <main class="form-signin w-100 m-auto">
        <h1 class="h3 mb-3 fw-normal">Register New Account</h1>
        <form id="signupForm">
    
          <div class="form-floating small-space">
            <input type="text" class="form-control" id="username" name="username" placeholder="username" required>
            <label for="username">Username:</label>
          </div>
    
          <div class="form-floating small-space">
            <input type="password" class="form-control" id="password" name="password" placeholder="password" required>
            <label for="password">Password:</label>
          </div>
    
          <div class="form-floating small-space">
            <input type="text" class="form-control" id="firstName" name="firstName" placeholder="First Name" required>
            <label for="password">First Name:</label>
          </div>

          <div class="form-floating small-space">
            <input type="text" class="form-control" id="lastName" name="lastName" placeholder="last name" required>
            <label for="password">Last Name:</label>
          </div>
    
          <button id="signupButton" class="w-100 btn btn-lg btn-primary" type="button">Signup</button>
        </form>
    </main>


    <script>

      $("#signupButton").on("click", function() {


          var signupForm = $("#signupForm").serializeArray();
          
          var newUser = {
            "role": "CUSTOMER"
          };
          for(var i = 0; i < signupForm.length; i++){
              newUser[signupForm[i]["name"]] = signupForm[i]["value"] 
          }


          var settings = {
            "url": "http://localhost:8080/api/auth/signup",
            "method": "POST",
            "timeout": 0,
            "headers": {
              "Content-Type": "application/json"
            },
            "data": JSON.stringify(newUser),
          };

          $.ajax(settings).done(function (response) {
            $("#signupForm").trigger("reset");
            window.location.replace("login.html");
          });

      });

  </script>

    </body>
</html>